# 微型消防站安全管理系统

## 项目概述
本项目是一个基于Python Flask框架开发的微型消防站安全管理系统。系统主要用于管理微型消防站的物资设备信息、设备有效期信息和负责人信息，支持用户权限管理和数据的增删改查操作。

## 技术栈
- 后端：Python Flask框架
- 前端：HTML, CSS, JavaScript, Bootstrap
- 数据库：SQLite
- 数据导入：支持从Excel文件导入数据

## 系统功能需求

### 数据库设计
系统需要初始化以下数据表：
1. 微型消防站物资表
2. 微型消防站物资设备有效期表
3. 微型消防站物资负责人表
4. 用户表
5. 权限表
6. 验证码表

### 用户认证与权限管理
1. 用户注册：
   - 通过邮箱注册
   - 发送验证码到用户邮箱
   - 验证码验证通过后设置用户名和密码

2. 用户角色：
   - 管理员：拥有所有功能和数据的操作权限
   - 普通用户：仅拥有被授权的操作权限

3. 权限分配：
   - 管理员可以为用户分配特定区域的操作权限
   - 权限包括：增加、修改、删除、查看

### 系统功能模块
1. 微型消防站物资信息管理：
   - 普通用户可访问，根据权限进行增删改查
   - 只能查看和操作被授权的区域数据

2. 用户及权限管理（仅管理员）：
   - 查看所有用户
   - 为用户分配操作权限
   - 权限可细分到具体区域和操作类型

3. 微型消防站物资设备有效期信息管理（仅管理员）：
   - 查看和管理所有设备的有效期信息
   - 增加、修改、删除设备有效期记录

4. 微型消防站物资负责人信息管理（仅管理员）：
   - 查看和管理所有区域的负责人信息
   - 增加、修改、删除负责人记录

### 界面设计
1. 总体布局：
   - 左侧导航栏
   - 右侧内容显示和操作区

2. 导航菜单：
   - 普通用户：微型消防站物资信息、退出登录
   - 管理员：额外包含用户及权限管理、设备有效期信息、负责人信息菜单

## 项目目录结构
safety/
├── app/                      # 应用主目录
│   ├── __init__.py           # Flask应用初始化
│   ├── models/               # 数据库模型
│   ├── routes/               # 路由处理
│   ├── static/               # 静态资源
│   ├── templates/            # HTML模板
│   └── utils/                # 工具函数
├── data/                     # 数据目录
│   ├── excel/                # Excel文件存放目录
│   └── database.db           # SQLite数据库文件
├── requirements.txt          # 项目依赖
└── run.py                    # 启动脚本

## 开发与部署
1. 安装依赖：
   pip install -r requirements.txt

2. 配置环境变量：
   创建.env文件配置邮箱等信息

3. 初始化数据库：
   将Excel文件放入data/excel目录
   通过utils/excel.py导入数据

4. 运行应用：
   python run.py

5. 访问应用：
   http://localhost:5000